{"ast":null,"code":"import _regeneratorRuntime from\"/Users/uilab-m5-03-2020/Desktop/sumin/react-for-beginners/docs/cultural-event-info/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/uilab-m5-03-2020/Desktop/sumin/react-for-beginners/docs/cultural-event-info/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/uilab-m5-03-2020/Desktop/sumin/react-for-beginners/docs/cultural-event-info/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/uilab-m5-03-2020/Desktop/sumin/react-for-beginners/docs/cultural-event-info/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11;import{styled}from\"styled-components\";import{useQuery}from\"react-query\";import{fetchCulturalInfo}from\"../api\";import{Link,useOutletContext}from\"react-router-dom\";import ReactPaginate from\"react-paginate\";import{useEffect,useRef,useState}from\"react\";import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import Header from\"../components/Header\";import{formateDate}from\"../utils/helpers\";import _ from\"lodash\";// lodash 라이브러리 import\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin: 0 auto;\\n  max-width: 1920px;\\n  overflow: hidden;\\n  position: relative;\\n  margin-bottom: 140px;\\n\"])));var Section=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  margin: 0 auto;\\n  padding: 1.25rem;\\n  max-width: 1400px;\\n\"])));var SearchArea=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  background-color: #f5f6fa;\\n  padding: 20px;\\n  flex-wrap: nowrap;\\n  justify-content: center;\\n  align-items: center;\\n  gap: 10px;\\n  border: 1px solid #dcdde1;\\n  .react-datepicker-wrapper {\\n    width: 20%;\\n    min-width: 120px;\\n    .date {\\n      width: 100%;\\n    }\\n    @media (max-width: 768px) {\\n      width: 100%;\\n    }\\n  }\\n  select#codeName {\\n    min-width: 100px;\\n  }\\n  @media (min-width: 768px) {\\n    input[type=\\\"text\\\"] {\\n      flex: 1;\\n    }\\n  }\\n  .btn,\\n  .btn_reset {\\n    cursor: pointer;\\n  }\\n  .btn_reset {\\n    background-color: #aaa;\\n    border-color: #aaa;\\n  }\\n  @media (max-width: 768px) {\\n    flex-direction: column;\\n    * {\\n      width: 100%;\\n    }\\n    .btn,\\n    .btn_reset {\\n      font-size: 16px;\\n    }\\n  }\\n\"])));var Total=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin: 30px 0 16px 0;\\n  border-bottom: 2px solid #333;\\n  margin-bottom: 30px;\\n  padding: 19px 0;\\n  font-weight: 500;\\n  color: #333;\\n  strong {\\n    color: #ac2f30;\\n  }\\n  @media (max-width: 768px) {\\n    font-size: 18px;\\n  }\\n\"])));var Loading=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  @keyframes rotate-loading {\\n    0% {\\n      transform: rotate(0deg);\\n      -ms-transform: rotate(0deg);\\n      -webkit-transform: rotate(0deg);\\n      -o-transform: rotate(0deg);\\n      -moz-transform: rotate(0deg);\\n    }\\n    100% {\\n      transform: rotate(360deg);\\n      -ms-transform: rotate(360deg);\\n      -webkit-transform: rotate(360deg);\\n      -o-transform: rotate(360deg);\\n      -moz-transform: rotate(360deg);\\n    }\\n  }\\n\\n  @-moz-keyframes rotate-loading {\\n    0% {\\n      transform: rotate(0deg);\\n      -ms-transform: rotate(0deg);\\n      -webkit-transform: rotate(0deg);\\n      -o-transform: rotate(0deg);\\n      -moz-transform: rotate(0deg);\\n    }\\n    100% {\\n      transform: rotate(360deg);\\n      -ms-transform: rotate(360deg);\\n      -webkit-transform: rotate(360deg);\\n      -o-transform: rotate(360deg);\\n      -moz-transform: rotate(360deg);\\n    }\\n  }\\n\\n  @-webkit-keyframes rotate-loading {\\n    0% {\\n      transform: rotate(0deg);\\n      -ms-transform: rotate(0deg);\\n      -webkit-transform: rotate(0deg);\\n      -o-transform: rotate(0deg);\\n      -moz-transform: rotate(0deg);\\n    }\\n    100% {\\n      transform: rotate(360deg);\\n      -ms-transform: rotate(360deg);\\n      -webkit-transform: rotate(360deg);\\n      -o-transform: rotate(360deg);\\n      -moz-transform: rotate(360deg);\\n    }\\n  }\\n\\n  @-o-keyframes rotate-loading {\\n    0% {\\n      transform: rotate(0deg);\\n      -ms-transform: rotate(0deg);\\n      -webkit-transform: rotate(0deg);\\n      -o-transform: rotate(0deg);\\n      -moz-transform: rotate(0deg);\\n    }\\n    100% {\\n      transform: rotate(360deg);\\n      -ms-transform: rotate(360deg);\\n      -webkit-transform: rotate(360deg);\\n      -o-transform: rotate(360deg);\\n      -moz-transform: rotate(360deg);\\n    }\\n  }\\n\\n  @keyframes rotate-loading {\\n    0% {\\n      transform: rotate(0deg);\\n      -ms-transform: rotate(0deg);\\n      -webkit-transform: rotate(0deg);\\n      -o-transform: rotate(0deg);\\n      -moz-transform: rotate(0deg);\\n    }\\n    100% {\\n      transform: rotate(360deg);\\n      -ms-transform: rotate(360deg);\\n      -webkit-transform: rotate(360deg);\\n      -o-transform: rotate(360deg);\\n      -moz-transform: rotate(360deg);\\n    }\\n  }\\n\\n  @-moz-keyframes rotate-loading {\\n    0% {\\n      transform: rotate(0deg);\\n      -ms-transform: rotate(0deg);\\n      -webkit-transform: rotate(0deg);\\n      -o-transform: rotate(0deg);\\n      -moz-transform: rotate(0deg);\\n    }\\n    100% {\\n      transform: rotate(360deg);\\n      -ms-transform: rotate(360deg);\\n      -webkit-transform: rotate(360deg);\\n      -o-transform: rotate(360deg);\\n      -moz-transform: rotate(360deg);\\n    }\\n  }\\n\\n  @-webkit-keyframes rotate-loading {\\n    0% {\\n      transform: rotate(0deg);\\n      -ms-transform: rotate(0deg);\\n      -webkit-transform: rotate(0deg);\\n      -o-transform: rotate(0deg);\\n      -moz-transform: rotate(0deg);\\n    }\\n    100% {\\n      transform: rotate(360deg);\\n      -ms-transform: rotate(360deg);\\n      -webkit-transform: rotate(360deg);\\n      -o-transform: rotate(360deg);\\n      -moz-transform: rotate(360deg);\\n    }\\n  }\\n\\n  @-o-keyframes rotate-loading {\\n    0% {\\n      transform: rotate(0deg);\\n      -ms-transform: rotate(0deg);\\n      -webkit-transform: rotate(0deg);\\n      -o-transform: rotate(0deg);\\n      -moz-transform: rotate(0deg);\\n    }\\n    100% {\\n      transform: rotate(360deg);\\n      -ms-transform: rotate(360deg);\\n      -webkit-transform: rotate(360deg);\\n      -o-transform: rotate(360deg);\\n      -moz-transform: rotate(360deg);\\n    }\\n  }\\n\\n  @keyframes loading-text-opacity {\\n    0% {\\n      opacity: 0;\\n    }\\n    20% {\\n      opacity: 0;\\n    }\\n    50% {\\n      opacity: 1;\\n    }\\n    100% {\\n      opacity: 0;\\n    }\\n  }\\n\\n  @-moz-keyframes loading-text-opacity {\\n    0% {\\n      opacity: 0;\\n    }\\n    20% {\\n      opacity: 0;\\n    }\\n    50% {\\n      opacity: 1;\\n    }\\n    100% {\\n      opacity: 0;\\n    }\\n  }\\n\\n  @-webkit-keyframes loading-text-opacity {\\n    0% {\\n      opacity: 0;\\n    }\\n    20% {\\n      opacity: 0;\\n    }\\n    50% {\\n      opacity: 1;\\n    }\\n    100% {\\n      opacity: 0;\\n    }\\n  }\\n\\n  @-o-keyframes loading-text-opacity {\\n    0% {\\n      opacity: 0;\\n    }\\n    20% {\\n      opacity: 0;\\n    }\\n    50% {\\n      opacity: 1;\\n    }\\n    100% {\\n      opacity: 0;\\n    }\\n  }\\n  .loading-container,\\n  .loading {\\n    height: 100px;\\n    position: relative;\\n    width: 100px;\\n    border-radius: 100%;\\n  }\\n\\n  .loading-container {\\n    margin: 50% auto;\\n  }\\n\\n  .loading {\\n    border: 2px solid transparent;\\n    border-color: transparent #000 transparent #000;\\n    -moz-animation: rotate-loading 1.5s linear 0s infinite normal;\\n    -moz-transform-origin: 50% 50%;\\n    -o-animation: rotate-loading 1.5s linear 0s infinite normal;\\n    -o-transform-origin: 50% 50%;\\n    -webkit-animation: rotate-loading 1.5s linear 0s infinite normal;\\n    -webkit-transform-origin: 50% 50%;\\n    animation: rotate-loading 1.5s linear 0s infinite normal;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  .loading-container:hover .loading {\\n    border-color: transparent #e45635 transparent #e45635;\\n  }\\n  .loading-container:hover .loading,\\n  .loading-container .loading {\\n    -webkit-transition: all 0.5s ease-in-out;\\n    -moz-transition: all 0.5s ease-in-out;\\n    -ms-transition: all 0.5s ease-in-out;\\n    -o-transition: all 0.5s ease-in-out;\\n    transition: all 0.5s ease-in-out;\\n  }\\n\\n  #loading-text {\\n    -moz-animation: loading-text-opacity 2s linear 0s infinite normal;\\n    -o-animation: loading-text-opacity 2s linear 0s infinite normal;\\n    -webkit-animation: loading-text-opacity 2s linear 0s infinite normal;\\n    animation: loading-text-opacity 2s linear 0s infinite normal;\\n    color: #000;\\n    font-family: \\\"Helvetica Neue\\\", \\\"Helvetica\\\", \\\"arial\\\";\\n    font-size: 10px;\\n    font-weight: bold;\\n    margin-top: 45px;\\n    opacity: 0;\\n    position: absolute;\\n    text-align: center;\\n    text-transform: uppercase;\\n    top: 0;\\n    width: 100px;\\n  }\\n\"])));var CultureList=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  ul {\\n    display: flex;\\n    flex-wrap: wrap;\\n    list-style: none;\\n    li {\\n      overflow: hidden;\\n      border-radius: 10px;\\n      padding: 20px 20px 54px 20px;\\n      border: 1px solid #e2e2e2;\\n      width: 30%;\\n      margin: 0 0 2.5% 3.33%;\\n      position: relative;\\n      font-size: 18px;\\n      font-weight: 500;\\n      color: #222;\\n      @media (max-width: 1025px) {\\n        width: 45%;\\n      }\\n      @media (max-width: 768px) {\\n        width: 100%;\\n        font-size: 20px;\\n        margin-left: 0;\\n      }\\n      p {\\n        margin: 20px 0 25px;\\n      }\\n      &:hover {\\n        border: 1px solid #3b3b3b;\\n        background-color: #f7f7f7;\\n        p {\\n          text-decoration: underline;\\n        }\\n        .cultural_img {\\n          transform: scale(1.1);\\n          -webkit-transform: scale(1.1);\\n          -moz-transform: scale(1.1);\\n          -o-transform: scale(1.1);\\n          transition: transform 0.3s ease;\\n        }\\n      }\\n    }\\n  }\\n\"])));var ImgArea=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  position: relative;\\n  overflow: hidden;\\n  border-radius: 10px;\\n  transition: transform 0.3s ease;\\n  .cultural_img {\\n    overflow: hidden;\\n    border-radius: 10px;\\n    position: relative;\\n    padding: 49%;\\n    height: 0;\\n    border: 1px solid #bbb;\\n    background-image: \",\";\\n    background-position: center;\\n    background-repeat: no-repeat;\\n    background-size: cover;\\n    transition: transfoqrm 0.3s ease;\\n    @media (max-width: 768px) {\\n      padding: 29%;\\n    }\\n  }\\n  .cultural_tag {\\n    position: absolute;\\n    z-index: 999;\\n    width: 35%;\\n    background-color: #e2e2e2;\\n    right: 0;\\n    font-size: 0.938rem;\\n    height: 45px;\\n    text-align: center;\\n    line-height: 49px;\\n    border-bottom-left-radius: 15px;\\n    font-weight: 500;\\n  }\\n\"])),function(_ref){var imgurl=_ref.imgurl;return\"url(\".concat(imgurl,\")\");});var NoData=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  font-size: 18px;\\n  font-weight: 500;\\n  color: #aaa;\\n  height: 200px;\\n  padding: 115px 0;\\n\"])));var Date=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  line-height: 1;\\n  letter-spacing: 0;\\n  position: absolute;\\n  bottom: 20px;\\n  right: 6%;\\n  font-weight: 500;\\n  span {\\n    font-size: 16px;\\n    position: absolute;\\n    left: -20px;\\n    top: -1px;\\n  }\\n  @media (max-width: 768px) {\\n    font-size: 18px;\\n  }\\n\"])));var Pagination=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  margin-top: 3.75em;\\n  display: flex;\\n  justify-content: center;\\n  font-weight: 500;\\n  font-size: 18px;\\n  ul {\\n    display: flex;\\n    li {\\n      cursor: pointer;\\n      margin: 0 4px;\\n      a {\\n        display: block;\\n        padding: 0 4px;\\n      }\\n      &:hover,\\n      &:active {\\n        font-weight: 600;\\n        color: #666666;\\n      }\\n    }\\n    li.active {\\n      font-weight: 600;\\n      color: #ac2f30;\\n      text-decoration: underline;\\n    }\\n  }\\n  .prePage,\\n  .nextPage,\\n  ul li.previous,\\n  ul li.next {\\n    border: 1px solid #ccc;\\n    border-radius: 50%;\\n    width: 34px;\\n    height: 34px;\\n    position: relative;\\n    bottom: 7px;\\n    color: #666;\\n    text-align: center;\\n    a {\\n      display: inline-block;\\n      position: relative;\\n      text-align: center;\\n      top: 7px;\\n      height: 24px;\\n      width: 24px;\\n    }\\n  }\\n  .prePage,\\n  .nextPage {\\n    padding-top: 7px;\\n  }\\n  @media (max-width: 768px) {\\n    display: none;\\n  }\\n\"])));var TopArrowButton=styled.button(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  width: 40px;\\n  min-width: 40px;\\n  height: 40px;\\n  position: fixed;\\n  cursor: pointer;\\n  bottom: 20%;\\n  right: 0;\\n  border-radius: 50%;\\n  border: 2px solid #aaaaaa;\\n  background-color: #fff;\\n  color: #aaaaaa;\\n  opacity: \",\";\\n  transition: opacity 0.3s ease-in-out;\\n  z-index: 999;\\n  i {\\n    font-size: 30px;\\n    position: relative;\\n    right: 8.8px;\\n    bottom: 3px;\\n    font-size: 30px;\\n  }\\n\"])),function(props){return props.$isVisible?\"1\":\"0\";});function Culturals(){var _fetchData$list_total2;var _ref2=useOutletContext()||{},_ref2$startIdx=_ref2.startIdx,initialStartIdx=_ref2$startIdx===void 0?1:_ref2$startIdx,_ref2$endIdx=_ref2.endIdx,initialEndIdx=_ref2$endIdx===void 0?9:_ref2$endIdx;var _useState=useState(initialStartIdx),_useState2=_slicedToArray(_useState,2),startIdx=_useState2[0],setStartIdx=_useState2[1];var _useState3=useState(initialEndIdx),_useState4=_slicedToArray(_useState3,2),endIdx=_useState4[0],setEndIdx=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),fetchData=_useState8[0],setFetchData=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),selectCodeNm=_useState10[0],setSelectCodeNm=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),selectedDate=_useState12[0],setSelectedDate=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isVisible=_useState14[0],setIsVisible=_useState14[1];var searchTitle=useRef(document.createElement(\"input\"));var _useQuery=useQuery([\"allCulturals\",startIdx,endIdx],/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var culturalDate;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:culturalDate=\" \";if(selectedDate){culturalDate=formateDate(selectedDate);}return _context.abrupt(\"return\",fetchCulturalInfo(startIdx,endIdx,{codeNm:selectCodeNm?selectCodeNm:\" \",title:searchTitle.current.value?searchTitle.current.value:\" \",date:selectedDate?culturalDate:\" \"}));case 3:case\"end\":return _context.stop();}},_callee);}))),isLoading=_useQuery.isLoading,data=_useQuery.data;var codeNames={전체:\"\",클래식:\"#0097e6\",콘서트:\"#8c7ae6\",\"축제-전통/역사\":\"#e1b12c\",\"축제-자연/경관\":\"#44bd32\",\"축제-시민화합\":\"#40739e\",\"축제-문화/예술\":\"#e84118\",\"축제-기타\":\"#7f8fa6\",\"전시/미술\":\"#D6A2E8\",영화:\"#FD7272\",연극:\"#78e08f\",\"뮤지컬/오페라\":\"#38ada9\",무용:\"#82ccdd\",\"독주/독창회\":\"#6a89cc\",기타:\"#f8c291\",국악:\"#b71540\",\"교육/체험\":\"#fa983a\"};var handlePageChange=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref4){var selected,newStartIdx,newEndIdx,culturalDate,newData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:selected=_ref4.selected;newStartIdx=selected*9+1;// 처음 게시물의 인덱스를 구함\nnewEndIdx=newStartIdx+8;setStartIdx(newStartIdx);setEndIdx(newEndIdx);setCurrentPage(selected);culturalDate=\" \";if(selectedDate){culturalDate=formateDate(selectedDate);}_context2.next=10;return fetchCulturalInfo(newStartIdx,newEndIdx,{codeNm:selectCodeNm?selectCodeNm:\" \",title:searchTitle.current.value?searchTitle.current.value:\" \",date:selectedDate?culturalDate:\" \"});case 10:newData=_context2.sent;setFetchData(newData);case 12:case\"end\":return _context2.stop();}},_callee2);}));return function handlePageChange(_x){return _ref5.apply(this,arguments);};}();var handleSelectCodeNm=function handleSelectCodeNm(e){setSelectCodeNm(e.target.value);};var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isLoadingMoreData=_useState16[0],setIsLoadingMoreData=_useState16[1];// 추가 데이터 로딩 중 여부\nvar _useState17=useState(true),_useState18=_slicedToArray(_useState17,2),hasMoreData=_useState18[0],setHasMoreData=_useState18[1];// 더 이상 데이터가 없는지 여부\nuseEffect(function(){var handleScroll=_.throttle(function(){if(isLoading||isLoadingMoreData||!hasMoreData){return false;}var _window=window,scrollY=_window.scrollY,innerHeight=_window.innerHeight;var scrollHeight=document.documentElement.scrollHeight;var showThreshold=100;if(window.innerWidth<=768){if(scrollY>showThreshold){setIsVisible(true);}else{setIsVisible(false);}if(scrollY+innerHeight>=scrollHeight-200){setIsLoadingMoreData(true);// 추가 데이터 로딩 중으로 설정\nvar culturalDate=selectedDate?formateDate(selectedDate):\"\";// API 요청\nif(hasMoreData){fetchCulturalInfo(startIdx,endIdx,{codeNm:selectCodeNm||\" \",title:searchTitle.current.value||\" \",date:culturalDate||\" \"}).then(function(newData){if(newData&&newData.row.length>0){// setStartIdx((prevStartIdx) => prevStartIdx + 9);\nsetEndIdx(function(prevEndIdx){return prevEndIdx+9;});setHasMoreData(true);}else{setHasMoreData(false);// 더 이상 데이터가 없음을 설정\n}}).finally(function(){setIsLoadingMoreData(false);// 추가 데이터 로딩 종료\nwindow.scrollTo({top:scrollY-100,behavior:\"smooth\"});});}}}},500);if(data){setFetchData(data);}window.addEventListener(\"scroll\",handleScroll);return function(){window.removeEventListener(\"scroll\",handleScroll);};},[data,endIdx,hasMoreData,isLoading,isLoadingMoreData,selectCodeNm,selectedDate,startIdx]);var onClickSearch=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var searchTit,culturalDate,newData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:searchTit=searchTitle.current.value;setStartIdx(1);setEndIdx(9);culturalDate=\" \";if(selectedDate){culturalDate=formateDate(selectedDate);}_context3.next=7;return fetchCulturalInfo(startIdx,endIdx,{codeNm:selectCodeNm?selectCodeNm===\"전체\"?\" \":encodeURIComponent(selectCodeNm):\" \",title:searchTit?searchTit:\" \",date:selectedDate?culturalDate:\" \"});case 7:newData=_context3.sent;setFetchData(newData);setCurrentPage(0);case 10:case\"end\":return _context3.stop();}},_callee3);}));return function onClickSearch(){return _ref6.apply(this,arguments);};}();var onClickSearchReset=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var newData;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:setSelectedDate(null);setSelectCodeNm(\"전체\");searchTitle.current.value=\"\";setStartIdx(1);setEndIdx(9);_context4.next=7;return fetchCulturalInfo(startIdx,endIdx,{codeNm:\" \",title:\" \",date:\" \"});case 7:newData=_context4.sent;setFetchData(newData);case 9:case\"end\":return _context4.stop();}},_callee4);}));return function onClickSearchReset(){return _ref7.apply(this,arguments);};}();var goToPreviousPage=function goToPreviousPage(e){e.preventDefault();if(currentPage-10<0){setCurrentPage(0);handlePageChange({selected:0});}else{setCurrentPage(function(prevPage){return Math.max(0,prevPage-10);});handlePageChange({selected:currentPage-10});}};var goToNextPage=function goToNextPage(e){var _fetchData$list_total;e.preventDefault();var maxPgNum=0;if(data)maxPgNum=Math.ceil(((_fetchData$list_total=fetchData===null||fetchData===void 0?void 0:fetchData.list_total_count)!==null&&_fetchData$list_total!==void 0?_fetchData$list_total:0)/9);if(currentPage+10>maxPgNum){setCurrentPage(maxPgNum-1);handlePageChange({selected:maxPgNum-1});}else{setCurrentPage(function(prePage){return Math.min(maxPgNum,prePage+10);});handlePageChange({selected:currentPage+10});}};var handleDateChange=function handleDateChange(date){setSelectedDate(date);};var moveTopBtn=function moveTopBtn(){window.scrollTo({top:0,behavior:\"smooth\"});};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsxs(SearchArea,{children:[/*#__PURE__*/_jsx(DatePicker,{className:\"date\",selected:selectedDate,onChange:handleDateChange,dateFormat:\"yyyy-MM-dd\",placeholderText:\"\\uB0A0\\uC9DC\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"select\",{value:selectCodeNm,onChange:handleSelectCodeNm,id:\"codeName\",title:\"\\uAD6C\\uBD84\\uC120\\uD0DD\",children:Object.keys(codeNames).map(function(e,i){return/*#__PURE__*/_jsx(\"option\",{value:e,children:e},i);})}),/*#__PURE__*/_jsx(\"input\",{ref:searchTitle,type:\"text\",placeholder:\"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClickSearch,className:\"btn\",children:\"\\uAC80\\uC0C9\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClickSearchReset,className:\"btn_reset\",children:\"\\uCD08\\uAE30\\uD654\"})]}),/*#__PURE__*/_jsxs(Total,{children:[\"\\uCD1D\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:fetchData&&fetchData.list_total_count>0?fetchData.list_total_count:0}),\"\\uAC1C\"]}),fetchData&&fetchData.list_total_count>0?isLoading?/*#__PURE__*/_jsx(Loading,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading\"}),/*#__PURE__*/_jsx(\"div\",{id:\"loading-text\",children:\"loading\"})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CultureList,{children:/*#__PURE__*/_jsx(\"ul\",{children:fetchData===null||fetchData===void 0?void 0:fetchData.row.map(function(e,i){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/my-study_react/cultural-event-info/\".concat(currentPage).concat(String(i+1).padStart(3,\"0\")),state:{data:e},children:[/*#__PURE__*/_jsxs(ImgArea,{imgurl:e.MAIN_IMG,children:[/*#__PURE__*/_jsx(\"span\",{className:\"cultural_tag\",style:{backgroundColor:codeNames[e.CODENAME]},children:e.CODENAME}),/*#__PURE__*/_jsx(\"div\",{className:\"cultural_img\"})]}),/*#__PURE__*/_jsx(\"p\",{children:e.TITLE}),/*#__PURE__*/_jsxs(Date,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"schedule\"}),e.DATE]})]})},i);})})}),/*#__PURE__*/_jsxs(Pagination,{children:[/*#__PURE__*/_jsx(\"a\",{href:\"javascript;\",className:\"prePage\",onClick:goToPreviousPage,children:\"<<\"}),/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:\"<\",nextLabel:\">\",breakLabel:\"...\",pageCount:Math.ceil(((_fetchData$list_total2=fetchData===null||fetchData===void 0?void 0:fetchData.list_total_count)!==null&&_fetchData$list_total2!==void 0?_fetchData$list_total2:0)/9)// 전체 페이지 수\n,marginPagesDisplayed:1,pageRangeDisplayed:9,onPageChange:handlePageChange,containerClassName:\"pagination\",activeClassName:\"active\",forcePage:currentPage}),/*#__PURE__*/_jsx(\"a\",{href:\"javacript;\",className:\"nextPage\",onClick:goToNextPage,children:\">>\"})]})]}):/*#__PURE__*/_jsx(NoData,{children:\"\\uC870\\uD68C\\uB41C \\uB370\\uC774\\uD130\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsx(TopArrowButton,{onClick:moveTopBtn,$isVisible:isVisible,style:{display:isVisible?\"block\":\"none\"},children:/*#__PURE__*/_jsx(\"i\",{className:\"material-symbols-outlined\",children:\"keyboard_arrow_up\"})})]});}export default Culturals;","map":{"version":3,"names":["styled","useQuery","fetchCulturalInfo","Link","useOutletContext","ReactPaginate","useEffect","useRef","useState","DatePicker","Header","formateDate","_","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","_templateObject","_taggedTemplateLiteral","Section","_templateObject2","SearchArea","_templateObject3","Total","_templateObject4","Loading","_templateObject5","CultureList","_templateObject6","ImgArea","_templateObject7","_ref","imgurl","concat","NoData","_templateObject8","Date","_templateObject9","Pagination","_templateObject10","TopArrowButton","button","_templateObject11","props","$isVisible","Culturals","_fetchData$list_total2","_ref2","_ref2$startIdx","startIdx","initialStartIdx","_ref2$endIdx","endIdx","initialEndIdx","_useState","_useState2","_slicedToArray","setStartIdx","_useState3","_useState4","setEndIdx","_useState5","_useState6","currentPage","setCurrentPage","_useState7","_useState8","fetchData","setFetchData","_useState9","_useState10","selectCodeNm","setSelectCodeNm","_useState11","_useState12","selectedDate","setSelectedDate","_useState13","_useState14","isVisible","setIsVisible","searchTitle","document","createElement","_useQuery","_asyncToGenerator","_regeneratorRuntime","mark","_callee","culturalDate","wrap","_callee$","_context","prev","next","abrupt","codeNm","title","current","value","date","stop","isLoading","data","codeNames","전체","클래식","콘서트","영화","연극","무용","기타","국악","handlePageChange","_ref5","_callee2","_ref4","selected","newStartIdx","newEndIdx","newData","_callee2$","_context2","sent","_x","apply","arguments","handleSelectCodeNm","e","target","_useState15","_useState16","isLoadingMoreData","setIsLoadingMoreData","_useState17","_useState18","hasMoreData","setHasMoreData","handleScroll","throttle","_window","window","scrollY","innerHeight","scrollHeight","documentElement","showThreshold","innerWidth","then","row","length","prevEndIdx","finally","scrollTo","top","behavior","addEventListener","removeEventListener","onClickSearch","_ref6","_callee3","searchTit","_callee3$","_context3","encodeURIComponent","onClickSearchReset","_ref7","_callee4","_callee4$","_context4","goToPreviousPage","preventDefault","prevPage","Math","max","goToNextPage","_fetchData$list_total","maxPgNum","ceil","list_total_count","prePage","min","handleDateChange","moveTopBtn","children","className","onChange","dateFormat","placeholderText","id","Object","keys","map","i","ref","type","placeholder","onClick","to","String","padStart","state","MAIN_IMG","style","backgroundColor","CODENAME","TITLE","DATE","href","previousLabel","nextLabel","breakLabel","pageCount","marginPagesDisplayed","pageRangeDisplayed","onPageChange","containerClassName","activeClassName","forcePage","display"],"sources":["/Users/uilab-m5-03-2020/Desktop/sumin/react-for-beginners/docs/cultural-event-info/src/routes/Culturals.tsx"],"sourcesContent":["import { styled } from \"styled-components\";\nimport { useQuery } from \"react-query\";\nimport { fetchCulturalInfo } from \"../api\";\nimport { Link, useOutletContext } from \"react-router-dom\";\nimport ReactPaginate from \"react-paginate\";\nimport { ChangeEvent, useEffect, useRef, useState } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport Header from \"../components/Header\";\nimport { formateDate } from \"../utils/helpers\";\nimport _ from \"lodash\"; // lodash 라이브러리 import\n\nconst Container = styled.div`\n  margin: 0 auto;\n  max-width: 1920px;\n  overflow: hidden;\n  position: relative;\n  margin-bottom: 140px;\n`;\nconst Section = styled.div`\n  margin: 0 auto;\n  padding: 1.25rem;\n  max-width: 1400px;\n`;\n\nconst SearchArea = styled.div`\n  display: flex;\n  background-color: #f5f6fa;\n  padding: 20px;\n  flex-wrap: nowrap;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n  border: 1px solid #dcdde1;\n  .react-datepicker-wrapper {\n    width: 20%;\n    min-width: 120px;\n    .date {\n      width: 100%;\n    }\n    @media (max-width: 768px) {\n      width: 100%;\n    }\n  }\n  select#codeName {\n    min-width: 100px;\n  }\n  @media (min-width: 768px) {\n    input[type=\"text\"] {\n      flex: 1;\n    }\n  }\n  .btn,\n  .btn_reset {\n    cursor: pointer;\n  }\n  .btn_reset {\n    background-color: #aaa;\n    border-color: #aaa;\n  }\n  @media (max-width: 768px) {\n    flex-direction: column;\n    * {\n      width: 100%;\n    }\n    .btn,\n    .btn_reset {\n      font-size: 16px;\n    }\n  }\n`;\n\nconst Total = styled.div`\n  margin: 30px 0 16px 0;\n  border-bottom: 2px solid #333;\n  margin-bottom: 30px;\n  padding: 19px 0;\n  font-weight: 500;\n  color: #333;\n  strong {\n    color: #ac2f30;\n  }\n  @media (max-width: 768px) {\n    font-size: 18px;\n  }\n`;\nconst Loading = styled.div`\n  @keyframes rotate-loading {\n    0% {\n      transform: rotate(0deg);\n      -ms-transform: rotate(0deg);\n      -webkit-transform: rotate(0deg);\n      -o-transform: rotate(0deg);\n      -moz-transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n      -ms-transform: rotate(360deg);\n      -webkit-transform: rotate(360deg);\n      -o-transform: rotate(360deg);\n      -moz-transform: rotate(360deg);\n    }\n  }\n\n  @-moz-keyframes rotate-loading {\n    0% {\n      transform: rotate(0deg);\n      -ms-transform: rotate(0deg);\n      -webkit-transform: rotate(0deg);\n      -o-transform: rotate(0deg);\n      -moz-transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n      -ms-transform: rotate(360deg);\n      -webkit-transform: rotate(360deg);\n      -o-transform: rotate(360deg);\n      -moz-transform: rotate(360deg);\n    }\n  }\n\n  @-webkit-keyframes rotate-loading {\n    0% {\n      transform: rotate(0deg);\n      -ms-transform: rotate(0deg);\n      -webkit-transform: rotate(0deg);\n      -o-transform: rotate(0deg);\n      -moz-transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n      -ms-transform: rotate(360deg);\n      -webkit-transform: rotate(360deg);\n      -o-transform: rotate(360deg);\n      -moz-transform: rotate(360deg);\n    }\n  }\n\n  @-o-keyframes rotate-loading {\n    0% {\n      transform: rotate(0deg);\n      -ms-transform: rotate(0deg);\n      -webkit-transform: rotate(0deg);\n      -o-transform: rotate(0deg);\n      -moz-transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n      -ms-transform: rotate(360deg);\n      -webkit-transform: rotate(360deg);\n      -o-transform: rotate(360deg);\n      -moz-transform: rotate(360deg);\n    }\n  }\n\n  @keyframes rotate-loading {\n    0% {\n      transform: rotate(0deg);\n      -ms-transform: rotate(0deg);\n      -webkit-transform: rotate(0deg);\n      -o-transform: rotate(0deg);\n      -moz-transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n      -ms-transform: rotate(360deg);\n      -webkit-transform: rotate(360deg);\n      -o-transform: rotate(360deg);\n      -moz-transform: rotate(360deg);\n    }\n  }\n\n  @-moz-keyframes rotate-loading {\n    0% {\n      transform: rotate(0deg);\n      -ms-transform: rotate(0deg);\n      -webkit-transform: rotate(0deg);\n      -o-transform: rotate(0deg);\n      -moz-transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n      -ms-transform: rotate(360deg);\n      -webkit-transform: rotate(360deg);\n      -o-transform: rotate(360deg);\n      -moz-transform: rotate(360deg);\n    }\n  }\n\n  @-webkit-keyframes rotate-loading {\n    0% {\n      transform: rotate(0deg);\n      -ms-transform: rotate(0deg);\n      -webkit-transform: rotate(0deg);\n      -o-transform: rotate(0deg);\n      -moz-transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n      -ms-transform: rotate(360deg);\n      -webkit-transform: rotate(360deg);\n      -o-transform: rotate(360deg);\n      -moz-transform: rotate(360deg);\n    }\n  }\n\n  @-o-keyframes rotate-loading {\n    0% {\n      transform: rotate(0deg);\n      -ms-transform: rotate(0deg);\n      -webkit-transform: rotate(0deg);\n      -o-transform: rotate(0deg);\n      -moz-transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n      -ms-transform: rotate(360deg);\n      -webkit-transform: rotate(360deg);\n      -o-transform: rotate(360deg);\n      -moz-transform: rotate(360deg);\n    }\n  }\n\n  @keyframes loading-text-opacity {\n    0% {\n      opacity: 0;\n    }\n    20% {\n      opacity: 0;\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n    }\n  }\n\n  @-moz-keyframes loading-text-opacity {\n    0% {\n      opacity: 0;\n    }\n    20% {\n      opacity: 0;\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n    }\n  }\n\n  @-webkit-keyframes loading-text-opacity {\n    0% {\n      opacity: 0;\n    }\n    20% {\n      opacity: 0;\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n    }\n  }\n\n  @-o-keyframes loading-text-opacity {\n    0% {\n      opacity: 0;\n    }\n    20% {\n      opacity: 0;\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n    }\n  }\n  .loading-container,\n  .loading {\n    height: 100px;\n    position: relative;\n    width: 100px;\n    border-radius: 100%;\n  }\n\n  .loading-container {\n    margin: 50% auto;\n  }\n\n  .loading {\n    border: 2px solid transparent;\n    border-color: transparent #000 transparent #000;\n    -moz-animation: rotate-loading 1.5s linear 0s infinite normal;\n    -moz-transform-origin: 50% 50%;\n    -o-animation: rotate-loading 1.5s linear 0s infinite normal;\n    -o-transform-origin: 50% 50%;\n    -webkit-animation: rotate-loading 1.5s linear 0s infinite normal;\n    -webkit-transform-origin: 50% 50%;\n    animation: rotate-loading 1.5s linear 0s infinite normal;\n    transform-origin: 50% 50%;\n  }\n\n  .loading-container:hover .loading {\n    border-color: transparent #e45635 transparent #e45635;\n  }\n  .loading-container:hover .loading,\n  .loading-container .loading {\n    -webkit-transition: all 0.5s ease-in-out;\n    -moz-transition: all 0.5s ease-in-out;\n    -ms-transition: all 0.5s ease-in-out;\n    -o-transition: all 0.5s ease-in-out;\n    transition: all 0.5s ease-in-out;\n  }\n\n  #loading-text {\n    -moz-animation: loading-text-opacity 2s linear 0s infinite normal;\n    -o-animation: loading-text-opacity 2s linear 0s infinite normal;\n    -webkit-animation: loading-text-opacity 2s linear 0s infinite normal;\n    animation: loading-text-opacity 2s linear 0s infinite normal;\n    color: #000;\n    font-family: \"Helvetica Neue\", \"Helvetica\", \"arial\";\n    font-size: 10px;\n    font-weight: bold;\n    margin-top: 45px;\n    opacity: 0;\n    position: absolute;\n    text-align: center;\n    text-transform: uppercase;\n    top: 0;\n    width: 100px;\n  }\n`;\ninterface ICulturalResponse {\n  list_total_count: number;\n  row: IFestival[];\n}\ninterface IFestival {\n  CODENAME: string;\n  GUNAME: string;\n  TITLE: string;\n  DATE: string;\n  PLACE: string;\n  ORG_NAME: string;\n  USE_TRGT: string;\n  USE_FEE: string;\n  PLAYER: string;\n  PROGRAM: string;\n  ETC_DESC: string;\n  ORG_LINK: string;\n  MAIN_IMG: string;\n  RGSTDATE: string;\n  TICKET: string;\n  STRTDATE: string;\n  END_DATE: string;\n  THEMECODE: string;\n  LOT: string;\n  LAT: string;\n  IS_FREE: string;\n  HMPG_ADDR: string;\n}\n\ninterface RouteParams {\n  startIdx: number;\n  endIdx: number;\n}\nconst CultureList = styled.div`\n  ul {\n    display: flex;\n    flex-wrap: wrap;\n    list-style: none;\n    li {\n      overflow: hidden;\n      border-radius: 10px;\n      padding: 20px 20px 54px 20px;\n      border: 1px solid #e2e2e2;\n      width: 30%;\n      margin: 0 0 2.5% 3.33%;\n      position: relative;\n      font-size: 18px;\n      font-weight: 500;\n      color: #222;\n      @media (max-width: 1025px) {\n        width: 45%;\n      }\n      @media (max-width: 768px) {\n        width: 100%;\n        font-size: 20px;\n        margin-left: 0;\n      }\n      p {\n        margin: 20px 0 25px;\n      }\n      &:hover {\n        border: 1px solid #3b3b3b;\n        background-color: #f7f7f7;\n        p {\n          text-decoration: underline;\n        }\n        .cultural_img {\n          transform: scale(1.1);\n          -webkit-transform: scale(1.1);\n          -moz-transform: scale(1.1);\n          -o-transform: scale(1.1);\n          transition: transform 0.3s ease;\n        }\n      }\n    }\n  }\n`;\nconst ImgArea = styled.div<{ imgurl?: string }>`\n  position: relative;\n  overflow: hidden;\n  border-radius: 10px;\n  transition: transform 0.3s ease;\n  .cultural_img {\n    overflow: hidden;\n    border-radius: 10px;\n    position: relative;\n    padding: 49%;\n    height: 0;\n    border: 1px solid #bbb;\n    background-image: ${({ imgurl }) => `url(${imgurl})`};\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    transition: transfoqrm 0.3s ease;\n    @media (max-width: 768px) {\n      padding: 29%;\n    }\n  }\n  .cultural_tag {\n    position: absolute;\n    z-index: 999;\n    width: 35%;\n    background-color: #e2e2e2;\n    right: 0;\n    font-size: 0.938rem;\n    height: 45px;\n    text-align: center;\n    line-height: 49px;\n    border-bottom-left-radius: 15px;\n    font-weight: 500;\n  }\n`;\nconst NoData = styled.div`\n  text-align: center;\n  font-size: 18px;\n  font-weight: 500;\n  color: #aaa;\n  height: 200px;\n  padding: 115px 0;\n`;\nconst Date = styled.div`\n  line-height: 1;\n  letter-spacing: 0;\n  position: absolute;\n  bottom: 20px;\n  right: 6%;\n  font-weight: 500;\n  span {\n    font-size: 16px;\n    position: absolute;\n    left: -20px;\n    top: -1px;\n  }\n  @media (max-width: 768px) {\n    font-size: 18px;\n  }\n`;\n\nconst Pagination = styled.div`\n  margin-top: 3.75em;\n  display: flex;\n  justify-content: center;\n  font-weight: 500;\n  font-size: 18px;\n  ul {\n    display: flex;\n    li {\n      cursor: pointer;\n      margin: 0 4px;\n      a {\n        display: block;\n        padding: 0 4px;\n      }\n      &:hover,\n      &:active {\n        font-weight: 600;\n        color: #666666;\n      }\n    }\n    li.active {\n      font-weight: 600;\n      color: #ac2f30;\n      text-decoration: underline;\n    }\n  }\n  .prePage,\n  .nextPage,\n  ul li.previous,\n  ul li.next {\n    border: 1px solid #ccc;\n    border-radius: 50%;\n    width: 34px;\n    height: 34px;\n    position: relative;\n    bottom: 7px;\n    color: #666;\n    text-align: center;\n    a {\n      display: inline-block;\n      position: relative;\n      text-align: center;\n      top: 7px;\n      height: 24px;\n      width: 24px;\n    }\n  }\n  .prePage,\n  .nextPage {\n    padding-top: 7px;\n  }\n  @media (max-width: 768px) {\n    display: none;\n  }\n`;\nconst TopArrowButton = styled.button<{ $isVisible: boolean }>`\n  width: 40px;\n  min-width: 40px;\n  height: 40px;\n  position: fixed;\n  cursor: pointer;\n  bottom: 20%;\n  right: 0;\n  border-radius: 50%;\n  border: 2px solid #aaaaaa;\n  background-color: #fff;\n  color: #aaaaaa;\n  opacity: ${(props) => (props.$isVisible ? \"1\" : \"0\")};\n  transition: opacity 0.3s ease-in-out;\n  z-index: 999;\n  i {\n    font-size: 30px;\n    position: relative;\n    right: 8.8px;\n    bottom: 3px;\n    font-size: 30px;\n  }\n`;\nfunction Culturals() {\n  const { startIdx: initialStartIdx = 1, endIdx: initialEndIdx = 9 } =\n    useOutletContext<RouteParams>() || {};\n  const [startIdx, setStartIdx] = useState(initialStartIdx);\n  const [endIdx, setEndIdx] = useState(initialEndIdx);\n  const [currentPage, setCurrentPage] = useState(0);\n  const [fetchData, setFetchData] = useState<ICulturalResponse | null>(null);\n  const [selectCodeNm, setSelectCodeNm] = useState(\"\");\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null);\n  const [isVisible, setIsVisible] = useState(false);\n  let searchTitle = useRef<HTMLInputElement>(document.createElement(\"input\"));\n  const { isLoading, data } = useQuery<ICulturalResponse>(\n    [\"allCulturals\", startIdx, endIdx],\n    async () => {\n      var culturalDate = \" \";\n      if (selectedDate) {\n        culturalDate = formateDate(selectedDate);\n      }\n      return fetchCulturalInfo(startIdx, endIdx, {\n        codeNm: selectCodeNm ? selectCodeNm : \" \",\n        title: searchTitle.current.value ? searchTitle.current.value : \" \",\n        date: selectedDate ? culturalDate : \" \",\n      });\n    }\n  );\n\n  let codeNames: { [key: string]: string } = {\n    전체: \"\",\n    클래식: \"#0097e6\",\n    콘서트: \"#8c7ae6\",\n    \"축제-전통/역사\": \"#e1b12c\",\n    \"축제-자연/경관\": \"#44bd32\",\n    \"축제-시민화합\": \"#40739e\",\n    \"축제-문화/예술\": \"#e84118\",\n    \"축제-기타\": \"#7f8fa6\",\n    \"전시/미술\": \"#D6A2E8\",\n    영화: \"#FD7272\",\n    연극: \"#78e08f\",\n    \"뮤지컬/오페라\": \"#38ada9\",\n    무용: \"#82ccdd\",\n    \"독주/독창회\": \"#6a89cc\",\n    기타: \"#f8c291\",\n    국악: \"#b71540\",\n    \"교육/체험\": \"#fa983a\",\n  };\n\n  const handlePageChange = async ({ selected }: { selected: number }) => {\n    const newStartIdx = selected * 9 + 1; // 처음 게시물의 인덱스를 구함\n    const newEndIdx = newStartIdx + 8;\n\n    setStartIdx(newStartIdx);\n    setEndIdx(newEndIdx);\n    setCurrentPage(selected);\n\n    var culturalDate = \" \";\n    if (selectedDate) {\n      culturalDate = formateDate(selectedDate);\n    }\n    const newData = await fetchCulturalInfo(newStartIdx, newEndIdx, {\n      codeNm: selectCodeNm ? selectCodeNm : \" \",\n      title: searchTitle.current.value ? searchTitle.current.value : \" \",\n      date: selectedDate ? culturalDate : \" \",\n    });\n\n    setFetchData(newData);\n  };\n  const handleSelectCodeNm = (e: ChangeEvent<HTMLSelectElement>) => {\n    setSelectCodeNm(e.target.value);\n  };\n  const [isLoadingMoreData, setIsLoadingMoreData] = useState(false); // 추가 데이터 로딩 중 여부\n  const [hasMoreData, setHasMoreData] = useState(true); // 더 이상 데이터가 없는지 여부\n\n  useEffect(() => {\n    const handleScroll = _.throttle(() => {\n      if (isLoading || isLoadingMoreData || !hasMoreData) {\n        return false;\n      }\n      const { scrollY, innerHeight } = window;\n      const { scrollHeight } = document.documentElement;\n      const showThreshold = 100;\n\n      if (window.innerWidth <= 768) {\n        if (scrollY > showThreshold) {\n          setIsVisible(true);\n        } else {\n          setIsVisible(false);\n        }\n        if (scrollY + innerHeight >= scrollHeight - 200) {\n          setIsLoadingMoreData(true); // 추가 데이터 로딩 중으로 설정\n          var culturalDate = selectedDate ? formateDate(selectedDate) : \"\";\n          // API 요청\n          if (hasMoreData) {\n            fetchCulturalInfo(startIdx, endIdx, {\n              codeNm: selectCodeNm || \" \",\n              title: searchTitle.current.value || \" \",\n              date: culturalDate || \" \",\n            })\n              .then((newData) => {\n                if (newData && newData.row.length > 0) {\n                  // setStartIdx((prevStartIdx) => prevStartIdx + 9);\n                  setEndIdx((prevEndIdx) => prevEndIdx + 9);\n                  setHasMoreData(true);\n                } else {\n                  setHasMoreData(false); // 더 이상 데이터가 없음을 설정\n                }\n              })\n              .finally(() => {\n                setIsLoadingMoreData(false); // 추가 데이터 로딩 종료\n                window.scrollTo({\n                  top: scrollY - 100,\n                  behavior: \"smooth\",\n                });\n              });\n          }\n        }\n      }\n    }, 500);\n\n    if (data) {\n      setFetchData(data);\n    }\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, [\n    data,\n    endIdx,\n    hasMoreData,\n    isLoading,\n    isLoadingMoreData,\n    selectCodeNm,\n    selectedDate,\n    startIdx,\n  ]);\n  const onClickSearch = async () => {\n    const searchTit = searchTitle.current.value;\n    setStartIdx(1);\n    setEndIdx(9);\n    var culturalDate = \" \";\n    if (selectedDate) {\n      culturalDate = formateDate(selectedDate);\n    }\n    const newData = await fetchCulturalInfo(startIdx, endIdx, {\n      codeNm: selectCodeNm\n        ? selectCodeNm === \"전체\"\n          ? \" \"\n          : encodeURIComponent(selectCodeNm)\n        : \" \",\n      title: searchTit ? searchTit : \" \",\n      date: selectedDate ? culturalDate : \" \",\n    });\n\n    setFetchData(newData);\n    setCurrentPage(0);\n  };\n  const onClickSearchReset = async () => {\n    setSelectedDate(null);\n    setSelectCodeNm(\"전체\");\n    searchTitle.current.value = \"\";\n    setStartIdx(1);\n    setEndIdx(9);\n    const newData = await fetchCulturalInfo(startIdx, endIdx, {\n      codeNm: \" \",\n      title: \" \",\n      date: \" \",\n    });\n\n    setFetchData(newData);\n  };\n  const goToPreviousPage = (\n    e: React.MouseEvent<HTMLAnchorElement, MouseEvent>\n  ) => {\n    e.preventDefault();\n    if (currentPage - 10 < 0) {\n      setCurrentPage(0);\n      handlePageChange({ selected: 0 });\n    } else {\n      setCurrentPage((prevPage) => Math.max(0, prevPage - 10));\n      handlePageChange({ selected: currentPage - 10 });\n    }\n  };\n  const goToNextPage = (e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\n    e.preventDefault();\n    var maxPgNum = 0;\n    if (data) maxPgNum = Math.ceil((fetchData?.list_total_count ?? 0) / 9);\n\n    if (currentPage + 10 > maxPgNum) {\n      setCurrentPage(maxPgNum - 1);\n      handlePageChange({ selected: maxPgNum - 1 });\n    } else {\n      setCurrentPage((prePage) => Math.min(maxPgNum, prePage + 10));\n      handlePageChange({ selected: currentPage + 10 });\n    }\n  };\n  const handleDateChange = (date: Date) => {\n    setSelectedDate(date);\n  };\n  const moveTopBtn = () => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n  return (\n    <Container>\n      <Header />\n      <Section>\n        <SearchArea>\n          <DatePicker\n            className=\"date\"\n            selected={selectedDate}\n            onChange={handleDateChange}\n            dateFormat=\"yyyy-MM-dd\"\n            placeholderText=\"날짜를 선택하세요\"\n          />\n          <select\n            value={selectCodeNm}\n            onChange={handleSelectCodeNm}\n            id=\"codeName\"\n            title=\"구분선택\"\n          >\n            {Object.keys(codeNames).map((e: string, i: number) => (\n              <option key={i} value={e}>\n                {e}\n              </option>\n            ))}\n          </select>\n          <input\n            ref={searchTitle}\n            type=\"text\"\n            placeholder=\"검색어를 입력하세요.\"\n          />\n          <button onClick={onClickSearch} className=\"btn\">\n            검색\n          </button>\n          <button onClick={onClickSearchReset} className=\"btn_reset\">\n            초기화\n          </button>\n        </SearchArea>\n        <Total>\n          총{\" \"}\n          <strong>\n            {fetchData && fetchData.list_total_count > 0\n              ? fetchData.list_total_count\n              : 0}\n          </strong>\n          개\n        </Total>\n        {fetchData && fetchData.list_total_count > 0 ? (\n          isLoading ? (\n            <Loading>\n              <div className=\"loading-container\">\n                <div className=\"loading\"></div>\n                <div id=\"loading-text\">loading</div>\n              </div>\n            </Loading>\n          ) : (\n            <>\n              <CultureList>\n                <ul>\n                  {fetchData?.row.map((e, i) => (\n                    <li key={i}>\n                      <Link\n                        to={`/my-study_react/cultural-event-info/${currentPage}${String(\n                          i + 1\n                        ).padStart(3, \"0\")}`}\n                        state={{ data: e }}\n                      >\n                        <ImgArea imgurl={e.MAIN_IMG}>\n                          <span\n                            className=\"cultural_tag\"\n                            style={{ backgroundColor: codeNames[e.CODENAME] }}\n                          >\n                            {e.CODENAME}\n                          </span>\n                          <div className=\"cultural_img\" />\n                        </ImgArea>\n                        {/* <img src={e.MAIN_IMG} alt=\"mainImg\" /> */}\n                        <p>{e.TITLE}</p>\n                        <Date>\n                          <span className=\"material-symbols-outlined\">\n                            schedule\n                          </span>\n                          {e.DATE}\n                        </Date>\n                      </Link>\n                    </li>\n                  ))}\n                </ul>\n              </CultureList>\n              <Pagination>\n                <a\n                  href=\"javascript;\"\n                  className=\"prePage\"\n                  onClick={goToPreviousPage}\n                >\n                  &lt;&lt;\n                </a>\n                <ReactPaginate\n                  previousLabel={\"<\"}\n                  nextLabel={\">\"}\n                  breakLabel={\"...\"}\n                  pageCount={Math.ceil((fetchData?.list_total_count ?? 0) / 9)} // 전체 페이지 수\n                  marginPagesDisplayed={1}\n                  pageRangeDisplayed={9}\n                  onPageChange={handlePageChange}\n                  containerClassName={\"pagination\"}\n                  activeClassName={\"active\"}\n                  forcePage={currentPage}\n                />\n                <a\n                  href=\"javacript;\"\n                  className=\"nextPage\"\n                  onClick={goToNextPage}\n                >\n                  &gt;&gt;\n                </a>\n              </Pagination>\n            </>\n          )\n        ) : (\n          <NoData>조회된 데이터가 없습니다.</NoData>\n        )}\n      </Section>\n      <TopArrowButton\n        onClick={moveTopBtn}\n        $isVisible={isVisible}\n        style={{ display: isVisible ? \"block\" : \"none\" }}\n      >\n        <i className=\"material-symbols-outlined\">keyboard_arrow_up</i>\n      </TopArrowButton>\n    </Container>\n  );\n}\n\nexport default Culturals;\n"],"mappings":"g4BAAA,OAASA,MAAM,KAAQ,mBAAmB,CAC1C,OAASC,QAAQ,KAAQ,aAAa,CACtC,OAASC,iBAAiB,KAAQ,QAAQ,CAC1C,OAASC,IAAI,CAAEC,gBAAgB,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,aAAa,KAAM,gBAAgB,CAC1C,OAAsBC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAChE,MAAO,CAAAC,UAAU,KAAM,kBAAkB,CACzC,MAAO,4CAA4C,CACnD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,CAAC,KAAM,QAAQ,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAExB,GAAM,CAAAC,SAAS,CAAGnB,MAAM,CAACoB,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,wHAM3B,CACD,GAAM,CAAAC,OAAO,CAAGvB,MAAM,CAACoB,GAAG,CAAAI,gBAAA,GAAAA,gBAAA,CAAAF,sBAAA,wEAIzB,CAED,GAAM,CAAAG,UAAU,CAAGzB,MAAM,CAACoB,GAAG,CAAAM,gBAAA,GAAAA,gBAAA,CAAAJ,sBAAA,0xBA6C5B,CAED,GAAM,CAAAK,KAAK,CAAG3B,MAAM,CAACoB,GAAG,CAAAQ,gBAAA,GAAAA,gBAAA,CAAAN,sBAAA,uPAavB,CACD,GAAM,CAAAO,OAAO,CAAG7B,MAAM,CAACoB,GAAG,CAAAU,gBAAA,GAAAA,gBAAA,CAAAR,sBAAA,07LA0PzB,CAkCD,GAAM,CAAAS,WAAW,CAAG/B,MAAM,CAACoB,GAAG,CAAAY,gBAAA,GAAAA,gBAAA,CAAAV,sBAAA,y+BA2C7B,CACD,GAAM,CAAAW,OAAO,CAAGjC,MAAM,CAACoB,GAAG,CAAAc,gBAAA,GAAAA,gBAAA,CAAAZ,sBAAA,qxBAYF,SAAAa,IAAA,KAAG,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,cAAAC,MAAA,CAAcD,MAAM,OAAG,CAsBvD,CACD,GAAM,CAAAE,MAAM,CAAGtC,MAAM,CAACoB,GAAG,CAAAmB,gBAAA,GAAAA,gBAAA,CAAAjB,sBAAA,iIAOxB,CACD,GAAM,CAAAkB,IAAI,CAAGxC,MAAM,CAACoB,GAAG,CAAAqB,gBAAA,GAAAA,gBAAA,CAAAnB,sBAAA,wRAgBtB,CAED,GAAM,CAAAoB,UAAU,CAAG1C,MAAM,CAACoB,GAAG,CAAAuB,iBAAA,GAAAA,iBAAA,CAAArB,sBAAA,0+BAuD5B,CACD,GAAM,CAAAsB,cAAc,CAAG5C,MAAM,CAAC6C,MAAM,CAAAC,iBAAA,GAAAA,iBAAA,CAAAxB,sBAAA,waAYvB,SAACyB,KAAK,QAAM,CAAAA,KAAK,CAACC,UAAU,CAAG,GAAG,CAAG,GAAG,EAAC,CAUrD,CACD,QAAS,CAAAC,SAASA,CAAA,CAAG,KAAAC,sBAAA,CACnB,IAAAC,KAAA,CACE/C,gBAAgB,CAAc,CAAC,EAAI,CAAC,CAAC,CAAAgD,cAAA,CAAAD,KAAA,CAD/BE,QAAQ,CAAEC,eAAe,CAAAF,cAAA,UAAG,CAAC,CAAAA,cAAA,CAAAG,YAAA,CAAAJ,KAAA,CAAEK,MAAM,CAAEC,aAAa,CAAAF,YAAA,UAAG,CAAC,CAAAA,YAAA,CAEhE,IAAAG,SAAA,CAAgClD,QAAQ,CAAC8C,eAAe,CAAC,CAAAK,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlDL,QAAQ,CAAAM,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAA4BtD,QAAQ,CAACiD,aAAa,CAAC,CAAAM,UAAA,CAAAH,cAAA,CAAAE,UAAA,IAA5CN,MAAM,CAAAO,UAAA,IAAEC,SAAS,CAAAD,UAAA,IACxB,IAAAE,UAAA,CAAsCzD,QAAQ,CAAC,CAAC,CAAC,CAAA0D,UAAA,CAAAN,cAAA,CAAAK,UAAA,IAA1CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAAkC7D,QAAQ,CAA2B,IAAI,CAAC,CAAA8D,UAAA,CAAAV,cAAA,CAAAS,UAAA,IAAnEE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAC9B,IAAAG,UAAA,CAAwCjE,QAAQ,CAAC,EAAE,CAAC,CAAAkE,WAAA,CAAAd,cAAA,CAAAa,UAAA,IAA7CE,YAAY,CAAAD,WAAA,IAAEE,eAAe,CAAAF,WAAA,IACpC,IAAAG,WAAA,CAAwCrE,QAAQ,CAAc,IAAI,CAAC,CAAAsE,WAAA,CAAAlB,cAAA,CAAAiB,WAAA,IAA5DE,YAAY,CAAAD,WAAA,IAAEE,eAAe,CAAAF,WAAA,IACpC,IAAAG,WAAA,CAAkCzE,QAAQ,CAAC,KAAK,CAAC,CAAA0E,WAAA,CAAAtB,cAAA,CAAAqB,WAAA,IAA1CE,SAAS,CAAAD,WAAA,IAAEE,YAAY,CAAAF,WAAA,IAC9B,GAAI,CAAAG,WAAW,CAAG9E,MAAM,CAAmB+E,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC,CAAC,CAC3E,IAAAC,SAAA,CAA4BvF,QAAQ,CAClC,CAAC,cAAc,CAAEoD,QAAQ,CAAEG,MAAM,CAAC,cAAAiC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAClC,SAAAC,QAAA,MAAAC,YAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACML,YAAY,CAAG,GAAG,CACtB,GAAId,YAAY,CAAE,CAChBc,YAAY,CAAGlF,WAAW,CAACoE,YAAY,CAAC,CAC1C,CAAC,OAAAiB,QAAA,CAAAG,MAAA,UACMjG,iBAAiB,CAACmD,QAAQ,CAAEG,MAAM,CAAE,CACzC4C,MAAM,CAAEzB,YAAY,CAAGA,YAAY,CAAG,GAAG,CACzC0B,KAAK,CAAEhB,WAAW,CAACiB,OAAO,CAACC,KAAK,CAAGlB,WAAW,CAACiB,OAAO,CAACC,KAAK,CAAG,GAAG,CAClEC,IAAI,CAAEzB,YAAY,CAAGc,YAAY,CAAG,GACtC,CAAC,CAAC,0BAAAG,QAAA,CAAAS,IAAA,MAAAb,OAAA,GACH,EACH,CAAC,CAbOc,SAAS,CAAAlB,SAAA,CAATkB,SAAS,CAAEC,IAAI,CAAAnB,SAAA,CAAJmB,IAAI,CAevB,GAAI,CAAAC,SAAoC,CAAG,CACzCC,EAAE,CAAE,EAAE,CACNC,GAAG,CAAE,SAAS,CACdC,GAAG,CAAE,SAAS,CACd,UAAU,CAAE,SAAS,CACrB,UAAU,CAAE,SAAS,CACrB,SAAS,CAAE,SAAS,CACpB,UAAU,CAAE,SAAS,CACrB,OAAO,CAAE,SAAS,CAClB,OAAO,CAAE,SAAS,CAClBC,EAAE,CAAE,SAAS,CACbC,EAAE,CAAE,SAAS,CACb,SAAS,CAAE,SAAS,CACpBC,EAAE,CAAE,SAAS,CACb,QAAQ,CAAE,SAAS,CACnBC,EAAE,CAAE,SAAS,CACbC,EAAE,CAAE,SAAS,CACb,OAAO,CAAE,SACX,CAAC,CAED,GAAM,CAAAC,gBAAgB,6BAAAC,KAAA,CAAA7B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA4B,SAAAC,KAAA,MAAAC,QAAA,CAAAC,WAAA,CAAAC,SAAA,CAAA9B,YAAA,CAAA+B,OAAA,QAAAlC,mBAAA,GAAAI,IAAA,UAAA+B,UAAAC,SAAA,iBAAAA,SAAA,CAAA7B,IAAA,CAAA6B,SAAA,CAAA5B,IAAA,SAASuB,QAAQ,CAAAD,KAAA,CAARC,QAAQ,CAClCC,WAAW,CAAGD,QAAQ,CAAG,CAAC,CAAG,CAAC,CAAE;AAChCE,SAAS,CAAGD,WAAW,CAAG,CAAC,CAEjC7D,WAAW,CAAC6D,WAAW,CAAC,CACxB1D,SAAS,CAAC2D,SAAS,CAAC,CACpBvD,cAAc,CAACqD,QAAQ,CAAC,CAEpB5B,YAAY,CAAG,GAAG,CACtB,GAAId,YAAY,CAAE,CAChBc,YAAY,CAAGlF,WAAW,CAACoE,YAAY,CAAC,CAC1C,CAAC+C,SAAA,CAAA5B,IAAA,UACqB,CAAAhG,iBAAiB,CAACwH,WAAW,CAAEC,SAAS,CAAE,CAC9DvB,MAAM,CAAEzB,YAAY,CAAGA,YAAY,CAAG,GAAG,CACzC0B,KAAK,CAAEhB,WAAW,CAACiB,OAAO,CAACC,KAAK,CAAGlB,WAAW,CAACiB,OAAO,CAACC,KAAK,CAAG,GAAG,CAClEC,IAAI,CAAEzB,YAAY,CAAGc,YAAY,CAAG,GACtC,CAAC,CAAC,SAJI+B,OAAO,CAAAE,SAAA,CAAAC,IAAA,CAMbvD,YAAY,CAACoD,OAAO,CAAC,CAAC,yBAAAE,SAAA,CAAArB,IAAA,MAAAc,QAAA,GACvB,kBAnBK,CAAAF,gBAAgBA,CAAAW,EAAA,SAAAV,KAAA,CAAAW,KAAA,MAAAC,SAAA,OAmBrB,CACD,GAAM,CAAAC,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,CAAiC,CAAK,CAChExD,eAAe,CAACwD,CAAC,CAACC,MAAM,CAAC9B,KAAK,CAAC,CACjC,CAAC,CACD,IAAA+B,WAAA,CAAkD9H,QAAQ,CAAC,KAAK,CAAC,CAAA+H,WAAA,CAAA3E,cAAA,CAAA0E,WAAA,IAA1DE,iBAAiB,CAAAD,WAAA,IAAEE,oBAAoB,CAAAF,WAAA,IAAqB;AACnE,IAAAG,WAAA,CAAsClI,QAAQ,CAAC,IAAI,CAAC,CAAAmI,WAAA,CAAA/E,cAAA,CAAA8E,WAAA,IAA7CE,WAAW,CAAAD,WAAA,IAAEE,cAAc,CAAAF,WAAA,IAAoB;AAEtDrI,SAAS,CAAC,UAAM,CACd,GAAM,CAAAwI,YAAY,CAAGlI,CAAC,CAACmI,QAAQ,CAAC,UAAM,CACpC,GAAIrC,SAAS,EAAI8B,iBAAiB,EAAI,CAACI,WAAW,CAAE,CAClD,MAAO,MAAK,CACd,CACA,IAAAI,OAAA,CAAiCC,MAAM,CAA/BC,OAAO,CAAAF,OAAA,CAAPE,OAAO,CAAEC,WAAW,CAAAH,OAAA,CAAXG,WAAW,CAC5B,GAAQ,CAAAC,YAAY,CAAK9D,QAAQ,CAAC+D,eAAe,CAAzCD,YAAY,CACpB,GAAM,CAAAE,aAAa,CAAG,GAAG,CAEzB,GAAIL,MAAM,CAACM,UAAU,EAAI,GAAG,CAAE,CAC5B,GAAIL,OAAO,CAAGI,aAAa,CAAE,CAC3BlE,YAAY,CAAC,IAAI,CAAC,CACpB,CAAC,IAAM,CACLA,YAAY,CAAC,KAAK,CAAC,CACrB,CACA,GAAI8D,OAAO,CAAGC,WAAW,EAAIC,YAAY,CAAG,GAAG,CAAE,CAC/CX,oBAAoB,CAAC,IAAI,CAAC,CAAE;AAC5B,GAAI,CAAA5C,YAAY,CAAGd,YAAY,CAAGpE,WAAW,CAACoE,YAAY,CAAC,CAAG,EAAE,CAChE;AACA,GAAI6D,WAAW,CAAE,CACf1I,iBAAiB,CAACmD,QAAQ,CAAEG,MAAM,CAAE,CAClC4C,MAAM,CAAEzB,YAAY,EAAI,GAAG,CAC3B0B,KAAK,CAAEhB,WAAW,CAACiB,OAAO,CAACC,KAAK,EAAI,GAAG,CACvCC,IAAI,CAAEX,YAAY,EAAI,GACxB,CAAC,CAAC,CACC2D,IAAI,CAAC,SAAC5B,OAAO,CAAK,CACjB,GAAIA,OAAO,EAAIA,OAAO,CAAC6B,GAAG,CAACC,MAAM,CAAG,CAAC,CAAE,CACrC;AACA1F,SAAS,CAAC,SAAC2F,UAAU,QAAK,CAAAA,UAAU,CAAG,CAAC,GAAC,CACzCd,cAAc,CAAC,IAAI,CAAC,CACtB,CAAC,IAAM,CACLA,cAAc,CAAC,KAAK,CAAC,CAAE;AACzB,CACF,CAAC,CAAC,CACDe,OAAO,CAAC,UAAM,CACbnB,oBAAoB,CAAC,KAAK,CAAC,CAAE;AAC7BQ,MAAM,CAACY,QAAQ,CAAC,CACdC,GAAG,CAAEZ,OAAO,CAAG,GAAG,CAClBa,QAAQ,CAAE,QACZ,CAAC,CAAC,CACJ,CAAC,CAAC,CACN,CACF,CACF,CACF,CAAC,CAAE,GAAG,CAAC,CAEP,GAAIpD,IAAI,CAAE,CACRnC,YAAY,CAACmC,IAAI,CAAC,CACpB,CACAsC,MAAM,CAACe,gBAAgB,CAAC,QAAQ,CAAElB,YAAY,CAAC,CAE/C,MAAO,WAAM,CACXG,MAAM,CAACgB,mBAAmB,CAAC,QAAQ,CAAEnB,YAAY,CAAC,CACpD,CAAC,CACH,CAAC,CAAE,CACDnC,IAAI,CACJnD,MAAM,CACNoF,WAAW,CACXlC,SAAS,CACT8B,iBAAiB,CACjB7D,YAAY,CACZI,YAAY,CACZ1B,QAAQ,CACT,CAAC,CACF,GAAM,CAAA6G,aAAa,6BAAAC,KAAA,CAAA1E,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAyE,SAAA,MAAAC,SAAA,CAAAxE,YAAA,CAAA+B,OAAA,QAAAlC,mBAAA,GAAAI,IAAA,UAAAwE,UAAAC,SAAA,iBAAAA,SAAA,CAAAtE,IAAA,CAAAsE,SAAA,CAAArE,IAAA,SACdmE,SAAS,CAAGhF,WAAW,CAACiB,OAAO,CAACC,KAAK,CAC3C1C,WAAW,CAAC,CAAC,CAAC,CACdG,SAAS,CAAC,CAAC,CAAC,CACR6B,YAAY,CAAG,GAAG,CACtB,GAAId,YAAY,CAAE,CAChBc,YAAY,CAAGlF,WAAW,CAACoE,YAAY,CAAC,CAC1C,CAACwF,SAAA,CAAArE,IAAA,SACqB,CAAAhG,iBAAiB,CAACmD,QAAQ,CAAEG,MAAM,CAAE,CACxD4C,MAAM,CAAEzB,YAAY,CAChBA,YAAY,GAAK,IAAI,CACnB,GAAG,CACH6F,kBAAkB,CAAC7F,YAAY,CAAC,CAClC,GAAG,CACP0B,KAAK,CAAEgE,SAAS,CAAGA,SAAS,CAAG,GAAG,CAClC7D,IAAI,CAAEzB,YAAY,CAAGc,YAAY,CAAG,GACtC,CAAC,CAAC,QARI+B,OAAO,CAAA2C,SAAA,CAAAxC,IAAA,CAUbvD,YAAY,CAACoD,OAAO,CAAC,CACrBxD,cAAc,CAAC,CAAC,CAAC,CAAC,yBAAAmG,SAAA,CAAA9D,IAAA,MAAA2D,QAAA,GACnB,kBApBK,CAAAF,aAAaA,CAAA,SAAAC,KAAA,CAAAlC,KAAA,MAAAC,SAAA,OAoBlB,CACD,GAAM,CAAAuC,kBAAkB,6BAAAC,KAAA,CAAAjF,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAgF,SAAA,MAAA/C,OAAA,QAAAlC,mBAAA,GAAAI,IAAA,UAAA8E,UAAAC,SAAA,iBAAAA,SAAA,CAAA5E,IAAA,CAAA4E,SAAA,CAAA3E,IAAA,SACzBlB,eAAe,CAAC,IAAI,CAAC,CACrBJ,eAAe,CAAC,IAAI,CAAC,CACrBS,WAAW,CAACiB,OAAO,CAACC,KAAK,CAAG,EAAE,CAC9B1C,WAAW,CAAC,CAAC,CAAC,CACdG,SAAS,CAAC,CAAC,CAAC,CAAC6G,SAAA,CAAA3E,IAAA,SACS,CAAAhG,iBAAiB,CAACmD,QAAQ,CAAEG,MAAM,CAAE,CACxD4C,MAAM,CAAE,GAAG,CACXC,KAAK,CAAE,GAAG,CACVG,IAAI,CAAE,GACR,CAAC,CAAC,QAJIoB,OAAO,CAAAiD,SAAA,CAAA9C,IAAA,CAMbvD,YAAY,CAACoD,OAAO,CAAC,CAAC,wBAAAiD,SAAA,CAAApE,IAAA,MAAAkE,QAAA,GACvB,kBAbK,CAAAF,kBAAkBA,CAAA,SAAAC,KAAA,CAAAzC,KAAA,MAAAC,SAAA,OAavB,CACD,GAAM,CAAA4C,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CACpB1C,CAAkD,CAC/C,CACHA,CAAC,CAAC2C,cAAc,CAAC,CAAC,CAClB,GAAI5G,WAAW,CAAG,EAAE,CAAG,CAAC,CAAE,CACxBC,cAAc,CAAC,CAAC,CAAC,CACjBiD,gBAAgB,CAAC,CAAEI,QAAQ,CAAE,CAAE,CAAC,CAAC,CACnC,CAAC,IAAM,CACLrD,cAAc,CAAC,SAAC4G,QAAQ,QAAK,CAAAC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAEF,QAAQ,CAAG,EAAE,CAAC,GAAC,CACxD3D,gBAAgB,CAAC,CAAEI,QAAQ,CAAEtD,WAAW,CAAG,EAAG,CAAC,CAAC,CAClD,CACF,CAAC,CACD,GAAM,CAAAgH,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAI/C,CAAkD,CAAK,KAAAgD,qBAAA,CAC3EhD,CAAC,CAAC2C,cAAc,CAAC,CAAC,CAClB,GAAI,CAAAM,QAAQ,CAAG,CAAC,CAChB,GAAI1E,IAAI,CAAE0E,QAAQ,CAAGJ,IAAI,CAACK,IAAI,CAAC,EAAAF,qBAAA,CAAC7G,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEgH,gBAAgB,UAAAH,qBAAA,UAAAA,qBAAA,CAAI,CAAC,EAAI,CAAC,CAAC,CAEtE,GAAIjH,WAAW,CAAG,EAAE,CAAGkH,QAAQ,CAAE,CAC/BjH,cAAc,CAACiH,QAAQ,CAAG,CAAC,CAAC,CAC5BhE,gBAAgB,CAAC,CAAEI,QAAQ,CAAE4D,QAAQ,CAAG,CAAE,CAAC,CAAC,CAC9C,CAAC,IAAM,CACLjH,cAAc,CAAC,SAACoH,OAAO,QAAK,CAAAP,IAAI,CAACQ,GAAG,CAACJ,QAAQ,CAAEG,OAAO,CAAG,EAAE,CAAC,GAAC,CAC7DnE,gBAAgB,CAAC,CAAEI,QAAQ,CAAEtD,WAAW,CAAG,EAAG,CAAC,CAAC,CAClD,CACF,CAAC,CACD,GAAM,CAAAuH,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIlF,IAAU,CAAK,CACvCxB,eAAe,CAACwB,IAAI,CAAC,CACvB,CAAC,CACD,GAAM,CAAAmF,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvB1C,MAAM,CAACY,QAAQ,CAAC,CAAEC,GAAG,CAAE,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CACjD,CAAC,CACD,mBACE/I,KAAA,CAACG,SAAS,EAAAyK,QAAA,eACR9K,IAAA,CAACJ,MAAM,GAAE,CAAC,cACVM,KAAA,CAACO,OAAO,EAAAqK,QAAA,eACN5K,KAAA,CAACS,UAAU,EAAAmK,QAAA,eACT9K,IAAA,CAACL,UAAU,EACToL,SAAS,CAAC,MAAM,CAChBpE,QAAQ,CAAE1C,YAAa,CACvB+G,QAAQ,CAAEJ,gBAAiB,CAC3BK,UAAU,CAAC,YAAY,CACvBC,eAAe,CAAC,mDAAW,CAC5B,CAAC,cACFlL,IAAA,WACEyF,KAAK,CAAE5B,YAAa,CACpBmH,QAAQ,CAAE3D,kBAAmB,CAC7B8D,EAAE,CAAC,UAAU,CACb5F,KAAK,CAAC,0BAAM,CAAAuF,QAAA,CAEXM,MAAM,CAACC,IAAI,CAACvF,SAAS,CAAC,CAACwF,GAAG,CAAC,SAAChE,CAAS,CAAEiE,CAAS,qBAC/CvL,IAAA,WAAgByF,KAAK,CAAE6B,CAAE,CAAAwD,QAAA,CACtBxD,CAAC,EADSiE,CAEL,CAAC,EACV,CAAC,CACI,CAAC,cACTvL,IAAA,UACEwL,GAAG,CAAEjH,WAAY,CACjBkH,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,0DAAa,CAC1B,CAAC,cACF1L,IAAA,WAAQ2L,OAAO,CAAEvC,aAAc,CAAC2B,SAAS,CAAC,KAAK,CAAAD,QAAA,CAAC,cAEhD,CAAQ,CAAC,cACT9K,IAAA,WAAQ2L,OAAO,CAAEhC,kBAAmB,CAACoB,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,oBAE3D,CAAQ,CAAC,EACC,CAAC,cACb5K,KAAA,CAACW,KAAK,EAAAiK,QAAA,EAAC,QACJ,CAAC,GAAG,cACL9K,IAAA,WAAA8K,QAAA,CACGrH,SAAS,EAAIA,SAAS,CAACgH,gBAAgB,CAAG,CAAC,CACxChH,SAAS,CAACgH,gBAAgB,CAC1B,CAAC,CACC,CAAC,SAEX,EAAO,CAAC,CACPhH,SAAS,EAAIA,SAAS,CAACgH,gBAAgB,CAAG,CAAC,CAC1C7E,SAAS,cACP5F,IAAA,CAACe,OAAO,EAAA+J,QAAA,cACN5K,KAAA,QAAK6K,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAChC9K,IAAA,QAAK+K,SAAS,CAAC,SAAS,CAAM,CAAC,cAC/B/K,IAAA,QAAKmL,EAAE,CAAC,cAAc,CAAAL,QAAA,CAAC,SAAO,CAAK,CAAC,EACjC,CAAC,CACC,CAAC,cAEV5K,KAAA,CAAAE,SAAA,EAAA0K,QAAA,eACE9K,IAAA,CAACiB,WAAW,EAAA6J,QAAA,cACV9K,IAAA,OAAA8K,QAAA,CACGrH,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEkF,GAAG,CAAC2C,GAAG,CAAC,SAAChE,CAAC,CAAEiE,CAAC,qBACvBvL,IAAA,OAAA8K,QAAA,cACE5K,KAAA,CAACb,IAAI,EACHuM,EAAE,wCAAArK,MAAA,CAAyC8B,WAAW,EAAA9B,MAAA,CAAGsK,MAAM,CAC7DN,CAAC,CAAG,CACN,CAAC,CAACO,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CAAG,CACrBC,KAAK,CAAE,CAAElG,IAAI,CAAEyB,CAAE,CAAE,CAAAwD,QAAA,eAEnB5K,KAAA,CAACiB,OAAO,EAACG,MAAM,CAAEgG,CAAC,CAAC0E,QAAS,CAAAlB,QAAA,eAC1B9K,IAAA,SACE+K,SAAS,CAAC,cAAc,CACxBkB,KAAK,CAAE,CAAEC,eAAe,CAAEpG,SAAS,CAACwB,CAAC,CAAC6E,QAAQ,CAAE,CAAE,CAAArB,QAAA,CAEjDxD,CAAC,CAAC6E,QAAQ,CACP,CAAC,cACPnM,IAAA,QAAK+K,SAAS,CAAC,cAAc,CAAE,CAAC,EACzB,CAAC,cAEV/K,IAAA,MAAA8K,QAAA,CAAIxD,CAAC,CAAC8E,KAAK,CAAI,CAAC,cAChBlM,KAAA,CAACwB,IAAI,EAAAoJ,QAAA,eACH9K,IAAA,SAAM+K,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,UAE5C,CAAM,CAAC,CACNxD,CAAC,CAAC+E,IAAI,EACH,CAAC,EACH,CAAC,EAxBAd,CAyBL,CAAC,EACN,CAAC,CACA,CAAC,CACM,CAAC,cACdrL,KAAA,CAAC0B,UAAU,EAAAkJ,QAAA,eACT9K,IAAA,MACEsM,IAAI,CAAC,aAAa,CAClBvB,SAAS,CAAC,SAAS,CACnBY,OAAO,CAAE3B,gBAAiB,CAAAc,QAAA,CAC3B,IAED,CAAG,CAAC,cACJ9K,IAAA,CAACT,aAAa,EACZgN,aAAa,CAAE,GAAI,CACnBC,SAAS,CAAE,GAAI,CACfC,UAAU,CAAE,KAAM,CAClBC,SAAS,CAAEvC,IAAI,CAACK,IAAI,CAAC,EAAApI,sBAAA,CAACqB,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEgH,gBAAgB,UAAArI,sBAAA,UAAAA,sBAAA,CAAI,CAAC,EAAI,CAAC,CAAG;AAAA,CAC9DuK,oBAAoB,CAAE,CAAE,CACxBC,kBAAkB,CAAE,CAAE,CACtBC,YAAY,CAAEtG,gBAAiB,CAC/BuG,kBAAkB,CAAE,YAAa,CACjCC,eAAe,CAAE,QAAS,CAC1BC,SAAS,CAAE3J,WAAY,CACxB,CAAC,cACFrD,IAAA,MACEsM,IAAI,CAAC,YAAY,CACjBvB,SAAS,CAAC,UAAU,CACpBY,OAAO,CAAEtB,YAAa,CAAAS,QAAA,CACvB,IAED,CAAG,CAAC,EACM,CAAC,EACb,CACH,cAED9K,IAAA,CAACwB,MAAM,EAAAsJ,QAAA,CAAC,uEAAc,CAAQ,CAC/B,EACM,CAAC,cACV9K,IAAA,CAAC8B,cAAc,EACb6J,OAAO,CAAEd,UAAW,CACpB3I,UAAU,CAAEmC,SAAU,CACtB4H,KAAK,CAAE,CAAEgB,OAAO,CAAE5I,SAAS,CAAG,OAAO,CAAG,MAAO,CAAE,CAAAyG,QAAA,cAEjD9K,IAAA,MAAG+K,SAAS,CAAC,2BAA2B,CAAAD,QAAA,CAAC,mBAAiB,CAAG,CAAC,CAChD,CAAC,EACR,CAAC,CAEhB,CAEA,cAAe,CAAA3I,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}